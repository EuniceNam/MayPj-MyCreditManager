# 원티드 5월 프리온보딩 iOS 사후과제 회고
과제요약: 단순한 학점관리를 위한 CLI(요구사항 주어짐)

### 배경
프리온보딩은 채용 플랫폼인 원티드에서 제공하는 분야별 강의와 추천 지원 큐레이션이다. 야곰님 강의가 좋았다. 사전과제와 라이브코딩이 특히 좋다. 이번 제목은 "기술 과제 합격을 위한 네 가지 리팩토링"이었고, iOS가 아닌 Swift를 다뤘다. 

### 문제1 시간분배 실패
**원인 → 방법**
- 일부 디테일에 집착해 시간을 너무 씀 → 임팩트가 작으면서 조사 시간이 거리는 디테일은 디테일 없이 만들고 이후 리팩토링하자
- 단순하지만 중요한 기능을 시간이 적게 걸릴 것으로 생각한 부분에 시간계획을 하지 않음 → 플래닝 포커처럼 작은 것에도 시간분배하기

사전과제를 해야 유익한데, 이번엔 시간 분배를 잘못해서 거의 사후과제로 진행했다. CLI 앱인데, 실제 구현할 내용은 단순해서 유저에게 보이고 받을 문자열 관리에 지나치게 시간을 쓴 것이 문제였다. 관심사라도 중요하지 않은 기능은 중요 기능을 한 번 완성한 후로 넘겨서 리팩토링 하는 연습이 필요하겠다.

### 문제2 커밋을 커밋답지 못하게 함 + 작업하는 부분을 왔다갔다함
**원인 → 방법**
- 프로젝트의 커밋 단위 기준을 못 세움 → 미비해보여도 일단 만들고 고치기 vs 공부 전용이면 빌드가 안 돼도 시도별로 기록하기

한 문제를 꾸준히 풀기보다 전체의 구조를 자주 갈아엎으면서 진행했다. 출력할 문자열을 어떻게 저장할지 생각하다가 막히면 그 부분을 위해 메인의 어떤 부분을 바꾸는 식인데, 자꾸 다른 곳으로 흘러갔다. 최대한 깔끔하게 커밋하고 싶었는데, 공부용 프로젝트는 빌드가 안 되는 상태라도 그렇게 코딩한 이유와 함께 커밋하는 것이 좋을까? 팀 프로젝트에서는 내용을 따로 옮겨놓고 정리한 후 커밋을 했다.

### 과제를 통해 배운 것
- 서브스크립트 사용 (Grades + GradeLetter.swift)
- 변수가 있는 스트링 리터럴 저장에 CustomStringConvertible, 에러메시지에 LocalizedError 사용 (GuideString+CustomError.swift)
    - 변수(연관값)를 포함하는 메시지는 프로토콜 CustomStringConvertible을 사용할 수 있다.
        - var description으로 케이스별 String을 지정하면 print(caseA)하면 description으로 출력된다.
        - 연관값은 switch let .case1(assocVal1, assocVal2): 같이 바인딩해 사용한다.
- 에러메시지의 경우, 프로토콜 LocalizedError를 사용한다.
    - LocalizedError 프로토콜의 String? 프로퍼티인 errorDescription에 원하는 String을 입력하고,
    - Error 프로토콜의 옵셔널이 아닌 String 프로퍼티인 localizedDescription로 옵셔널 바인딩 없이 호출한다.
        - (LocalizedError는 Error 프로토콜을 따른다)
    - 기타) CustomDebugStringConvertible은 디버깅 용으로, debugPrint시 개발자 친화적인 자료형으로 출력해준다. String이라면 따옴표까지, Array라면 그런 형식으로 출력된다.
- 에러처리 공부 - 번역해보기가 도움이 됐다.
    - [번역해본 내용](https://blog.naver.com/caellime/223134121934)이 에러처리에 대한 내용은 아니다. 
    - 의미상 error라고 할 수 있다고 편의를 위해 throw를 지나치게 많이 쓸뻔 했는데, throw를 쓸 수 있게 해달라고 요청하는 상황을 보니 error라고 부르는 관점은 시스템 작동이 기준인 것 같았다.
        - 이후에 코드의 구조가 정리되었다.

### 남은 의문
- 유저의 3가지 유형의 CLI 입력값을 struct init?에서 처리했는데 다른 방법이 없을까 (InputInfoTrio.swift)
    - 배경: 유저가 입력하는 5가지 경우의 정보를 묶어보면, 3가지의 정보 중 하나는 반드시 입력하고 다른 2가지는 일부를 입력하는 식인데, 큰 연산은 없다.
    - 과정: 튜플로 하려다가 정규표현식으로 조건을 거는 일까지 입력 처리로 묶어서 하려다보니 이렇게 됐다.
    - 고려한 대안: 프로토콜도 생각해봤는데 다 따로 구현할 정도의 기능이 아닌 것으로 보였다.

### 기타
- 진행 기간: 4월 하순에 조금 하고, 5월에 강의를 듣고, 6월 하순에 완료함 (커밋을 그때그때 안해서 이제 와선 언제 얼마나 했는지 모르겠음)
- 진행 방법: 요구사항 정리 -> 구조를 굿노트에서 그리면서 생각 -> 코딩 -> 조사 -> 코딩
- 빠진 것: 소요시간 설정, 커밋단위 생각

**기타 삽질**
- 유저입력을 메인에서만 받아야한다고 생각한 것
    - 입력을 꼭 메인에서 받아 케이스별 함수에는 인수로 넘기려고 했다.
        - 화면이 있는 앱이라면 화면이 달라지는 상황인데 왜 꼭 메인에서 입력을 받으려고 했는지 모르겠다.
    - → 기능별 throw하는 함수로 가서 작업하도록 했다.
        - throw가 있으니 더더욱 각 함수로 보내도 됐다.
- 튜플을 써보고 싶어서 typeAlias로 쓰고, 유지하려고 애썼으나
    - 하나는 일부 값만 존재하거나 값의 확인을 요구하는 일이 있어 적합하지 않았다.
    - 다른 하나는 이름으로는 좋았던 것 같지만 워낙 작은 프로젝트라 쓸 일이 없었다. 해당 이름은 변수명으로 옮겼다.
